{% extends "base.html" %}
{% load i18n %}

{% block title %}Reset Password{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
  <div class="card shadow-lg border-0 p-4 rounded-4" style="max-width: 420px; width: 100%;">
    <h4 class="text-center mb-3 fw-bold" style="color: #0a415aff;">{% trans "Reset Password" %}</h4>
    <p class="text-center text-muted mb-4">{% trans "Create a new strong password for your account." %}</p>

    <form method="POST" class="mt-3" novalidate>
      {% csrf_token %}

      <div class="mb-3 position-relative">
        <label class="form-label fw-semibold">{% trans "New Password" %}</label>
        <div class="position-relative">
          <input
            type="password"
            name="password1"
            class="form-control rounded-3 py-2 px-3 password-field"
            required
            placeholder="{% trans 'Enter new password' %}"
          >
          <span class="toggle-password position-absolute" style="right:14px; top:50%; transform:translateY(-50%); cursor:pointer;">
            <i class="fa fa-eye-slash"></i>
          </span>
        </div>
      </div>

      <div class="mb-3 position-relative">
        <label class="form-label fw-semibold">{% trans "Confirm Password" %}</label>
        <div class="position-relative">
          <input
            type="password"
            name="password2"
            class="form-control rounded-3 py-2 px-3 password-field"
            required
            placeholder="{% trans 'Re-enter new password' %}"
          >
          <span class="toggle-password position-absolute" style="right:14px; top:50%; transform:translateY(-50%); cursor:pointer;">
            <i class="fa fa-eye-slash"></i>
          </span>
        </div>
      </div>

      <button type="submit"
        class="btn w-100 py-2 rounded-3 d-flex align-items-center justify-content-center gap-2 login-btn">
    <i class="bi bi-box-arrow-in-right"></i> {% trans "Reset Password" %}
</button>
    </form>
  </div>
</div>
{% endblock  %}
<!-- ================= Show/Hide Password JS ================= -->
{% block extra_css %}
<style>
  .login-btn {
    background: linear-gradient(135deg, #0a415aff, #5FAFA8);
    color: #fff;
    font-weight: 600;
    transition: all 0.3s ease;
    border: none;
  }

   .login-btn:hover {
    background: linear-gradient(135deg, #5FAFA8, #83C5BE);
    transform: scale(1.02);
  }

</style>

{% endblock  %}


{% block extra_js %}
<script>
document.addEventListener("DOMContentLoaded", function () {
  const toggles = document.querySelectorAll(".toggle-password");

  toggles.forEach(function(toggle) {
    toggle.addEventListener("click", function() {
      const input = this.previousElementSibling;
      const icon = this.querySelector("i");

      if (input.type === "password") {
        input.type = "text";
        icon.classList.remove("fa-eye-slash");
        icon.classList.add("fa-eye");
      } else {
        input.type = "password";
        icon.classList.remove("fa-eye");
        icon.classList.add("fa-eye-slash");
      }
    });
  });
});
</script>
{% endblock %}
